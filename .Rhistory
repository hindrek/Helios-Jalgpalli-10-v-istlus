scale() %>%
rowSums() %>%
sort(decreasing = F)
df %>%
mutate(
tribling = -tribling,
kõrguslöömine = -kõrguslöömine,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>%
column_to_rownames("nimi") %>%
scale() %>%
rowSums() %>%
sort(decreasing = T)
df %>%
mutate(
tribling = -tribling,
kõrguslöömine = -kõrguslöömine,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>% View()
df %>%
mutate(
tribling = -tribling,
kõrguslöömine = -kõrguslöömine,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>%
column_to_rownames("nimi") %>% View()
df %>%
mutate(
tribling = -tribling,
kõrguslöömine = -kõrguslöömine,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>%
column_to_rownames("nimi") %>%
scale() %>% View()
View(df)
df %>%
mutate(
tribling = -tribling,
kõrguslöömine = -kõrguslöömine,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>%
column_to_rownames("nimi") %>%
scale() %>% colSums()
df %>%
mutate(
tribling = -tribling,
kõrguslöömine = -kõrguslöömine,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>%
column_to_rownames("nimi") %>%
scale() %>% max()
df %>%
mutate(
tribling = -tribling,
kõrguslöömine = -kõrguslöömine,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>%
column_to_rownames("nimi") %>%
scale() %>% maxMeans()
df %>%
mutate(
tribling = -tribling,
kõrguslöömine = -kõrguslöömine,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>%
column_to_rownames("nimi") %>%
scale() %>% colMeans()
df %>%
mutate(
tribling = -tribling,
kõrguslöömine = -kõrguslöömine,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>%
column_to_rownames("nimi") %>%
scale() %>% View()
df %>%
mutate(
tribling = -tribling,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>%
column_to_rownames("nimi") %>%
scale() %>% View()
df %>%
mutate(
tribling = -tribling,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>%
column_to_rownames("nimi") %>%
scale() %>%
rowSums() %>%
sort(decreasing = T)
scaled_df <- df %>%
mutate(
tribling = -tribling,
`palli vedamine` = -`palli vedamine`
) %>%
replace_na(lapply(., min, na.rm = T)) %>%
column_to_rownames("nimi") %>%
scale()
scaled_df %>%
rowSums() %>%
sort(decreasing = T)
total <- scaled_df %>%
rowSums() %>%
sort(decreasing = T)
barplot(total)
typeof(total)
barplot(total)
barplot(total, horiz = T)
library(readxl)
library(readxl)
tulemused <- read_excel("C:/Users/hindrek/OneDrive - Tartu �\234likool/Helios/Jalgpalli kümnevõistlus/jalgpalli 10-võistlus 2020.xlsx")
library(readxl)
tulemused <- read_excel("C:/Users/hindrek/OneDrive - Tartu Üikool/Helios/Jalgpalli kümnevõistlus/jalgpalli 10-võistlus 2020.xlsx")
library(readxl)
tulemused <- read_excel("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus/jalgpalli 10-võistlus 2020.xlsx")
View(tulemused)
library(readxl)
tulemused <- read_excel("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus/2020/jalgpalli 10-võistlus 2020.xlsx")
View(tulemused)
library(readxl)
tulemused <- read_excel("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus/2020/jalgpalli 10-võistlus 2020.xlsx")
head(tulemused)
getwd()
library(readxl)
tulemused <- read_excel("Jalgpalli kümnevõistlus/2020/jalgpalli 10-võistlus 2020.xlsx")
library(readxl)
tulemused <- read_excel("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus/2020/jalgpalli 10-võistlus 2020.xlsx")
print(tulemused)
tulemused <- read_excel("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus/2020/jalgpalli 10-võistlus 2020.xlsx")
tulemused
library(readxl)
# tulemused <- read_excel("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus/2020/jalgpalli 10-võistlus 2020.xlsx")
head(tulemused)
library(readxl)
# tulemused <- read_excel("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus/2020/jalgpalli 10-võistlus 2020.xlsx")
head(tulemused)
library(readxl)
# tulemused <- read_excel("Jalgpalli kümnevõistlus/2020/jalgpalli 10-võistlus 2020.xlsx")
head(tulemused)
setwd("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus")
setwd("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus/2020")
getwd()
setwd("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus")
library(readxl)
tulemused <- read_excel("Jalgpalli kümnevõistlus/2020/jalgpalli 10-võistlus 2020.xlsx")
getwd()
library(readxl)
tulemused <- read_excel("2020/jalgpalli 10-võistlus 2020.xlsx")
getwd()
library(readxl)
tulemused <- read_excel("2020\jalgpalli 10-võistlus 2020.xlsx")
library(readxl)
tulemused <- read_excel("2020/jalgpalli 10-võistlus 2020.xlsx")
getwd()
setwd("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus")
tulemused <- read_excel("jalgpalli 10-võistlus 2020.xlsx")
library(readxl)
# tulemused <- read_excel("")
getwd()
knit_with_parameters('C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus/2020/jalgpalli 10-võistlus 2020.Rmd', encoding = 'UTF-8')
library(readxl)
tulemused <- read_excel("jalgpalli 10-võistlus 2020.xlsx")
tulemused
library(readxl)
tulemused <- read_excel("jalgpalli 10-võistlus 2020.xlsx")
tulemused
tulemused
library(readxl)
tulemused <- read_excel("jalgpalli 10-võistlus 2020.xlsx")
tulemused
View(tulemused)
tulemused
tulemused
library(dplyr)
library(readr)
detach("package:readr", unload = TRUE)
tulemused <- read_excel("jalgpalli 10-võistlus 2020.xlsx", .name_repair = janitor::make_clean_names)
tulemused <- read_excel("jalgpalli 10-võistlus 2020.xlsx", .name_repair = janitor::make_clean_names)
View(tulemused)
library(readxl)
tulemused <- read_excel("jalgpalli 10-võistlus 2020.xlsx", .name_repair = janitor::make_clean_names)
tulemused <- readxl::read_excel("jalgpalli 10-võistlus 2020.xlsx",
.name_repair = janitor::make_clean_names)
View(tulemused)
tulemused
tulemused
tulemused
tulemused
tulemused
tulemused %>% rescale()
tulemused %>% scales::rescale()
tulemused
tulemused %>% scales::rescale()
tulemused[-1] %>% scales::rescale()
tulemused[-1]
tulemused[-1] %>% scales::rescale()
apply(tulemused[-1], 2, scales::rescale)
library(dplyr)
library(tidyverse)
tulemused %>% pivot_longer(names_to = "alad", values_to = "punktid")
tulemused %>% pivot_longer(-nimi, names_to = "alad", values_to = "punktid")
tulemused %>% pivot_longer(-nimi, names_to = "alad", values_to = "punktid")
tulemused %>% pivot_longer(-nimi, names_to = "ala", values_to = "punktid")
tulemused %>% pivot_longer(-nimi, names_to = "ala", values_to = "punktid")
tulemused %>%
pivot_longer(-nimi, names_to = "ala", values_to = "punktid") %>%
group_by(ala) %>%
mutate(scales::rescale)
tulemused %>%
pivot_longer(-nimi, names_to = "ala", values_to = "punktid") %>%
group_by(ala) %>%
mutate(scales::rescale(punktid))
tulemused %>%
pivot_longer(-nimi, names_to = "ala", values_to = "punktid") %>%
group_by(ala) %>%
mutate(scales::rescale(punktid))
hms
scales::reverse_trans(1:10)
tulemused <- readxl::read_excel("jalgpalli 10-võistlus 2020.xlsx",
.name_repair = janitor::make_clean_names)
tulemused %>%
mutate(across(c(tribling, palliga_jooksmine), function(x) -x))
tulemused %>%
mutate(across(c(tribling, palliga_jooksmine), function(x) -x))
tulemused %>%
mutate(across(c(tribling, palliga_jooksmine), function(x) -x)) %>% View()
tulemused %>%
mutate(across(c(tribling, palliga_jooksmine), function(x) -x)) %>%
pivot_longer(-nimi, names_to = "ala", values_to = "tulemus") %>%
group_by(ala) %>%
mutate(punktid = scales::rescale(tulemus))
punktid <- tulemused %>%
mutate(across(c(tribling, palliga_jooksmine), function(x) -x)) %>%
pivot_longer(-nimi, names_to = "ala", values_to = "tulemus") %>%
group_by(ala) %>%
mutate(punktid = scales::rescale(tulemust, c(1, 10)))
punktid <- tulemused %>%
mutate(across(c(tribling, palliga_jooksmine), function(x) -x)) %>%
pivot_longer(-nimi, names_to = "ala", values_to = "tulemus") %>%
group_by(ala) %>%
mutate(punktid = scales::rescale(tulemust, c(1, 10)))
punktid <- tulemused %>%
mutate(across(c(tribling, palliga_jooksmine), function(x) -x)) %>%
pivot_longer(-nimi, names_to = "ala", values_to = "tulemus") %>%
group_by(ala) %>%
mutate(punktid = scales::rescale(tulemus, c(1, 10)))
View(punktid)
punktid
punktid <- tulemused %>%
mutate(across(c(tribling, palliga_jooksmine), function(x) -x)) %>%
pivot_longer(-nimi, names_to = "ala", values_to = "tulemus") %>%
group_by(ala) %>%
mutate(punktid = scales::rescale(tulemus, c(1, 10))) %>%
ungroup()
punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid))
punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid))
punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid)) %>%
arrange(desc(kokku))
punktid %>% group_by(ala)
punktid %>% group_by(ala) %>% summarise(max(punktid))
punktid %>% group_by(ala) %>% summarise(max(tulemus))
punktid %>% group_by(ala) %>% summarise(max(tulemus), nimi)
punktid %>% group_by(ala) %>% summarise(max(tulemus))
punktid %>% group_by(ala) %>% filter(max(tulemus))
punktid %>% group_by(ala) %>% filter(tulemus == max(tulemus))
getwd()
setwd("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus/2020")
library(dplyr)
library(readxl)
library(janitor)
library(skimr)
library(tidyverse)
library(scales)
library(readxl)
library(janitor)
library(skimr)
library(tidyverse)
library(scales)
tulemused <- read_excel("jalgpalli 10-võistlus 2020.xlsx",
.name_repair = make_clean_names)
skim(tulemused)
punktid <- tulemused %>%
pivot_longer(-nimi, names_to = "ala", values_to = "tulemus") %>%
mutate(punktid = if_else(ala %in% c("tribling", "palliga_jooksmine"), -tulemus, tulemus)) %>%
group_by(ala) %>%
mutate(punktid = rescale(punktid, c(1, 10))) %>%
ungroup()
punktid %>%
group_by(ala) %>%
filter(punktid == max(punktid)) %>%
select(ala, tulemus, nimi)
punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid)) %>%
arrange(desc(kokku))
punktid
punktid %>% ggplot(aes(nimi, sum(punktid))) + geom_point()
punktid %>% ggplot(aes(nimi, punktid)) + geom_point()
punktid %>% ggplot(aes(nimi)) + geom_bar()
punktid %>% ggplot(aes(nimi)) + geom_bar(aes(punktid))
punktid %>% ggplot(aes(nimi)) + geom_bar(aes(weight = punktid))
punktid %>% ggplot(aes(y = nimi)) + geom_bar(aes(weight = punktid))
punktid %>% ggplot(aes(x = nimi)) + geom_bar(aes(weight = punktid))
punktid %>% ggplot(aes(y = nimi)) + geom_bar(aes(weight = punktid))
punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid)) %>%
arrange(desc(kokku))
punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid)) %>%
arrange(desc(kokku))
punktid %>%
ggplot(aes(nimi, punktid)) +
stat_count(aes(weight = punktid))
punktid %>%
ggplot(aes(y = nimi)) +
stat_count(aes(weight = punktid))
kohad <- punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid)) %>%
arrange(desc(kokku))
kohad
kohad %>%
ggplot(aes(kokku, nimi)) +
geom_col()
kohad <- punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid)) %>%
arrange(desc(kokku))
kohad
kohad %>%
ggplot(aes(kokku, reorder(nimi, kokku))) +
geom_col()
kohad %>%
ggplot(aes(kokku, fct_reorder(nimi, kokku))) +
geom_col()
kohad %>%
ggplot(aes(kokku, reorder(nimi, kokku))) +
geom_col()
kohad %>%
ggplot(aes(kokku, reorder(nimi, kokku))) +
geom_col() +
labs(y = NULL)
View(kohad)
kohad %>%
ggplot(aes(kokku, reorder(nimi, kokku))) +
geom_col() +
xlab("nimi")
kohad %>%
ggplot(aes(kokku, reorder(nimi, kokku))) +
geom_col() +
labs(NULL)
kohad %>%
ggplot(aes(kokku, reorder(nimi, kokku))) +
geom_col() +
labs(y = NULL)
punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid)) %>%
ggplot(aes(kokku, reorder(nimi, kokku))) +
geom_col() +
labs(y = NULL)
library(readxl)
library(janitor)
library(skimr)
library(tidyverse)
library(scales)
tulemused <- read_excel("jalgpalli 10-võistlus 2020.xlsx",
.name_repair = make_clean_names)
skim(tulemused)
punktid <- tulemused %>%
pivot_longer(-nimi, names_to = "ala", values_to = "tulemus") %>%
mutate(punktid = if_else(ala %in% c("tribling", "palliga_jooksmine"), -tulemus, tulemus)) %>%
group_by(ala) %>%
mutate(punktid = rescale(punktid, c(1, 10))) %>%
ungroup()
punktid %>%
group_by(ala) %>%
filter(punktid == max(punktid)) %>%
select(ala, tulemus, nimi)
punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid)) %>%
ggplot(aes(kokku, reorder(nimi, kokku))) +
geom_col() +
labs(y = NULL)
punktid %>%
ggplot(aes(punktid, nimi)) +
stat_count(aes(weight = punktid))
punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid)) %>%
ggplot(aes(kokku, reorder(nimi, kokku))) +
geom_col() +
labs(y = NULL)
punktid %>%
ggplot(aes(nimi)) +
stat_count(aes(weight = punktid))
punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid)) %>%
ggplot(aes(kokku, reorder(nimi, kokku))) +
geom_col() +
labs(y = NULL)
punktid %>%
ggplot(aes(y = nimi)) +
stat_count(aes(weight = punktid))
punktid %>%
group_by(nimi) %>%
summarise(kokku = sum(punktid)) %>%
ggplot(aes(kokku, reorder(nimi, kokku))) +
geom_col() +
labs(y = NULL)
punktid %>%
ggplot(aes(y = reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid))
punktid %>%
ggplot(aes(y = reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid))
punktid %>%
ggplot(aes(y = fct_reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid))
punktid %>%
ggplot(aes(y = reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid))
punktid %>%
ggplot(aes(y = reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid)) +
ylab(NULL)
punktid %>%
ggplot(aes(y = reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid)) +
labs(y = NULL)
punktid %>%
ggplot(aes(y = reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid)) +
labs(y = NULL, x = "punkte kokku")
punktid %>%
ggplot(aes(y = reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid)) +
labs(y = "nimi", x = "punkte kokku")
punktid %>%
ggplot(aes(y = reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid)) +
labs(y = NULL, x = "punkte kokku")
punktid %>%
ggplot(aes(y = reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid)) +
labs(y = "nimi", x = "punkte kokku")
punktid %>%
ggplot(aes(y = reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid)) +
labs(y = "nimi")
punktid %>%
ggplot(aes(y = reorder(nimi, punktid, sum))) +
stat_count(aes(weight = punktid)) +
labs(x = "punktid", y = "nimi")
tulemused <- read_excel("jalgpalli 10-võistlus 2020.xlsx",
.name_repair = make_clean_names)
library(readxl)
library(janitor)
library(skimr)
library(tidyverse)
library(scales)
tulemused <- read_excel("jalgpalli 10-võistlus 2020.xlsx",
.name_repair = make_clean_names)
skim(tulemused)
punktid <- tulemused %>%
pivot_longer(-nimi, names_to = "ala", values_to = "tulemus") %>%
mutate(punktid = if_else(ala %in% c("tribling", "palliga_jooksmine"), -tulemus, tulemus)) %>%
group_by(ala) %>%
mutate(punktid = rescale(punktid, c(1, 10))) %>%
ungroup()
punktid %>%
group_by(ala) %>%
filter(punktid == max(punktid)) %>%
select(ala, tulemus, nimi)
View(punktid)
punktid %>% group_by(nimi)
punktid %>% group_by(nimi) %>% summarise(kokku = sum(punktid))
library(readxl)
library(janitor)
library(skimr)
library(tidyverse)
library(scales)
tulemused <- read_excel("jalgpalli 10-võistlus 2019.xlsx",
.name_repair = make_clean_names)
setwd("C:/Users/hindrek/OneDrive - Tartu Ülikool/Helios/Jalgpalli kümnevõistlus/2019")
tulemused <- read_excel("jalgpalli 10-võistlus 2019.xlsx",
.name_repair = make_clean_names)
tulemused <- read_excel("jalgpalli 10-võistlus 2019.xlsx",
.name_repair = make_clean_names)
skim(tulemused)
